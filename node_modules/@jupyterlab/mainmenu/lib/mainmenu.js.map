{"version":3,"file":"mainmenu.js","sourceRoot":"","sources":["../../../../mainmenu/src/mainmenu.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport {\n  ArrayExt\n} from '@phosphor/algorithm';\n\nimport {\n  CommandRegistry\n} from '@phosphor/commands';\n\nimport {\n  Token\n} from '@phosphor/coreutils';\n\nimport {\n  Menu, MenuBar\n} from '@phosphor/widgets';\n\nimport {\n  IFileMenu, FileMenu\n} from './file';\n\nimport {\n  IEditMenu, EditMenu\n} from './edit';\n\nimport {\n  IHelpMenu, HelpMenu\n} from './help';\n\nimport {\n  IKernelMenu, KernelMenu\n} from './kernel';\n\nimport {\n  IRunMenu, RunMenu\n} from './run';\n\nimport {\n  ISettingsMenu, SettingsMenu\n} from './settings';\n\nimport {\n  IViewMenu, ViewMenu\n} from './view';\n\nimport {\n  ITabsMenu, TabsMenu\n} from './tabs';\n\n\n/* tslint:disable */\n/**\n * The main menu token.\n */\nexport\nconst IMainMenu = new Token<IMainMenu>('@jupyterlab/apputils:IMainMenu');\n/* tslint:enable */\n\n\n/**\n * The main menu interface.\n */\nexport\ninterface IMainMenu {\n  /**\n   * Add a new menu to the main menu bar.\n   */\n  addMenu(menu: Menu, options?: IMainMenu.IAddOptions): void;\n\n  /**\n   * The application \"File\" menu.\n   */\n  readonly fileMenu: IFileMenu;\n\n  /**\n   * The application \"Edit\" menu.\n   */\n  readonly editMenu: IEditMenu;\n\n  /**\n   * The application \"View\" menu.\n   */\n  readonly viewMenu: IViewMenu;\n\n  /**\n   * The application \"Help\" menu.\n   */\n  readonly helpMenu: IHelpMenu;\n\n  /**\n   * The application \"Kernel\" menu.\n   */\n  readonly kernelMenu: IKernelMenu;\n\n  /**\n   * The application \"Run\" menu.\n   */\n  readonly runMenu: IRunMenu;\n\n  /**\n   * The application \"Settings\" menu.\n   */\n  readonly settingsMenu: ISettingsMenu;\n\n  /**\n   * The application \"Tabs\" menu.\n   */\n  readonly tabsMenu: ITabsMenu;\n}\n\n\n/**\n * The namespace for IMainMenu attached interfaces.\n */\nexport\nnamespace IMainMenu {\n  /**\n   * The options used to add a menu to the main menu.\n   */\n  export\n  interface IAddOptions {\n    /**\n     * The rank order of the menu among its siblings.\n     */\n    rank?: number;\n  }\n\n}\n\n/**\n * The main menu class.  It is intended to be used as a singleton.\n */\nexport\nclass MainMenu extends MenuBar implements IMainMenu {\n  /**\n   * Construct the main menu bar.\n   */\n  constructor(commands: CommandRegistry) {\n    super();\n    this.editMenu = new EditMenu({ commands });\n    this.fileMenu = new FileMenu({ commands });\n    this.helpMenu = new HelpMenu({ commands });\n    this.kernelMenu = new KernelMenu({ commands });\n    this.runMenu = new RunMenu({ commands });\n    this.settingsMenu = new SettingsMenu({ commands });\n    this.viewMenu = new ViewMenu({ commands });\n    this.tabsMenu = new TabsMenu({ commands });\n\n    this.addMenu(this.fileMenu.menu, { rank: 0 });\n    this.addMenu(this.editMenu.menu, { rank: 1 });\n    this.addMenu(this.viewMenu.menu, { rank: 2 });\n    this.addMenu(this.runMenu.menu, { rank: 3 });\n    this.addMenu(this.kernelMenu.menu, { rank: 4 });\n    this.addMenu(this.tabsMenu.menu, { rank: 500 });\n    this.addMenu(this.settingsMenu.menu, { rank: 999 });\n    this.addMenu(this.helpMenu.menu, { rank: 1000 });\n  }\n\n  /**\n   * The application \"Edit\" menu.\n   */\n  readonly editMenu: EditMenu;\n\n  /**\n   * The application \"File\" menu.\n   */\n  readonly fileMenu: FileMenu;\n\n  /**\n   * The application \"Help\" menu.\n   */\n  readonly helpMenu: HelpMenu;\n\n  /**\n   * The application \"Kernel\" menu.\n   */\n  readonly kernelMenu: KernelMenu;\n\n  /**\n   * The application \"Run\" menu.\n   */\n  readonly runMenu: RunMenu;\n\n  /**\n   * The application \"Settings\" menu.\n   */\n  readonly settingsMenu: SettingsMenu;\n\n  /**\n   * The application \"View\" menu.\n   */\n  readonly viewMenu: ViewMenu;\n\n  /**\n   * The application \"Tabs\" menu.\n   */\n  readonly tabsMenu: TabsMenu;\n\n\n  /**\n   * Add a new menu to the main menu bar.\n   */\n  addMenu(menu: Menu, options: IMainMenu.IAddOptions = {}): void {\n    if (ArrayExt.firstIndexOf(this.menus, menu) > -1) {\n      return;\n    }\n\n    let rank = 'rank' in options ? options.rank : 100;\n    let rankItem = { menu, rank };\n    let index = ArrayExt.upperBound(this._items, rankItem, Private.itemCmp);\n\n    // Upon disposal, remove the menu and its rank reference.\n    menu.disposed.connect(this._onMenuDisposed, this);\n\n    ArrayExt.insert(this._items, index, rankItem);\n    /**\n     * Create a new menu.\n     */\n    this.insertMenu(index, menu);\n  }\n\n  /**\n   * Dispose of the resources held by the menu bar.\n   */\n  dispose(): void {\n    this.editMenu.dispose();\n    this.fileMenu.dispose();\n    this.helpMenu.dispose();\n    this.kernelMenu.dispose();\n    this.runMenu.dispose();\n    this.settingsMenu.dispose();\n    this.viewMenu.dispose();\n    this.tabsMenu.dispose();\n    super.dispose();\n  }\n\n  /**\n   * Handle the disposal of a menu.\n   */\n  private _onMenuDisposed(menu: Menu): void {\n    this.removeMenu(menu);\n    let index = ArrayExt.findFirstIndex(this._items, item => item.menu === menu);\n    if (index !== -1) {\n      ArrayExt.removeAt(this._items, index);\n    }\n  }\n\n  private _items: Private.IRankItem[] = [];\n}\n\n\n/**\n * A namespace for private data.\n */\nnamespace Private {\n  /**\n   * An object which holds a menu and its sort rank.\n   */\n  export\n  interface IRankItem {\n    /**\n     * The menu for the item.\n     */\n    menu: Menu;\n\n    /**\n     * The sort rank of the menu.\n     */\n    rank: number;\n  }\n\n  /**\n   * A comparator function for menu rank items.\n   */\n  export\n  function itemCmp(first: IRankItem, second: IRankItem): number {\n    return first.rank - second.rank;\n  }\n}\n\n"]}