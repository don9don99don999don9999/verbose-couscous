{"version":3,"file":"kernel.js","sourceRoot":"","sources":["../../../../mainmenu/src/kernel.ts"],"names":[],"mappings":";AAAA,0CAA0C;AAC1C,2DAA2D;;;;;;;;;;;;AAU3D,qCAEmB;AAanB;;GAEG;AACH;IACyB,8BAAc;IACrC;;OAEG;IACH,oBAAY,OAAsB;QAAlC,YACE,kBAAM,OAAO,CAAC,SAKf;QAJC,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC;QAEjC,KAAI,CAAC,WAAW;YACd,IAAI,GAAG,EAAmC,CAAC;;IAC/C,CAAC;IAOD;;OAEG;IACH,4BAAO,GAAP;QACE,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QACzB,iBAAM,OAAO,WAAE,CAAC;IAClB,CAAC;IACH,iBAAC;AAAD,CAAC,AAzBD,CACyB,wBAAc,GAwBtC;AAxBK,gCAAU","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport {\n  Kernel\n} from '@jupyterlab/services';\n\nimport {\n  Menu, Widget\n} from '@phosphor/widgets';\n\nimport {\n  IJupyterLabMenu, JupyterLabMenu, IMenuExtender\n} from './labmenu';\n\n/**\n * An interface for a Kernel menu.\n */\nexport\ninterface IKernelMenu extends IJupyterLabMenu {\n  /**\n   * A set storing IKernelUsers for the Kernel menu.\n   */\n  readonly kernelUsers: Set<IKernelMenu.IKernelUser<Widget>>;\n}\n\n/**\n * An extensible Kernel menu for the application.\n */\nexport\nclass KernelMenu extends JupyterLabMenu implements IKernelMenu {\n  /**\n   * Construct the kernel menu.\n   */\n  constructor(options: Menu.IOptions) {\n    super(options);\n    this.menu.title.label = 'Kernel';\n\n    this.kernelUsers =\n      new Set<IKernelMenu.IKernelUser<Widget>>();\n  }\n\n  /**\n   * A set storing IKernelUsers for the Kernel menu.\n   */\n  readonly kernelUsers: Set<IKernelMenu.IKernelUser<Widget>>;\n\n  /**\n   * Dispose of the resources held by the kernel menu.\n   */\n  dispose(): void {\n    this.kernelUsers.clear();\n    super.dispose();\n  }\n}\n\n/**\n * Namespace for IKernelMenu\n */\nexport\nnamespace IKernelMenu {\n  /**\n   * Interface for a Kernel user to register itself\n   * with the IKernelMenu's semantic extension points.\n   */\n  export\n  interface IKernelUser<T extends Widget> extends IMenuExtender<T> {\n    /**\n     * A function to interrupt the kernel.\n     */\n    interruptKernel?: (widget: T) => Promise<void>;\n\n    /**\n     * A function to restart the kernel.\n     */\n    restartKernel?: (widget: T) => Promise<Kernel.IKernelConnection>;\n\n    /**\n     * A function to restart the kernel.\n     */\n    restartKernelAndClear?: (widget: T) => Promise<Kernel.IKernelConnection>;\n\n    /**\n     * A function to change the kernel.\n     */\n    changeKernel?: (widget: T) => Promise<void>;\n\n    /**\n     * A function to shut down the kernel.\n     */\n    shutdownKernel?: (widget: T) => Promise<void>;\n\n    /**\n     * A noun to use for the restart and clear all command.\n     */\n    noun?: string;\n  }\n}\n"]}