{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../launcher/src/index.tsx"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport {\n  showErrorMessage, VDomModel, VDomRenderer\n} from '@jupyterlab/apputils';\n\nimport {\n  ArrayExt, ArrayIterator, IIterator, map, each, toArray\n} from '@phosphor/algorithm';\n\nimport {\n  Token\n} from '@phosphor/coreutils';\n\nimport {\n  DisposableDelegate, IDisposable\n} from '@phosphor/disposable';\n\nimport {\n  Message\n} from '@phosphor/messaging';\n\nimport {\n  AttachedProperty\n} from '@phosphor/properties';\n\nimport {\n  Widget\n} from '@phosphor/widgets';\n\nimport * as React from 'react';\n\nimport '../style/index.css';\n\n\n/**\n * The class name added to Launcher instances.\n */\nconst LAUNCHER_CLASS = 'jp-Launcher';\n\n/**\n * The known categories of launcher items and their default ordering.\n */\nconst KNOWN_CATEGORIES = ['Notebook', 'Console', 'Other'];\n\n/**\n * These laucher item categories are known to have kernels, so the kernel icons\n * are used.\n */\nconst KERNEL_CATEGORIES = ['Notebook', 'Console'];\n\n\n/**\n * The command IDs used by the launcher plugin.\n */\nexport\nnamespace CommandIDs {\n  export\n  const show: string = 'launcher:show';\n}\n\n\n\n/* tslint:disable */\n/**\n * The launcher token.\n */\nexport\nconst ILauncher = new Token<ILauncher>('@jupyterlab/launcher:ILauncher');\n/* tslint:enable */\n\n\n/**\n * The launcher interface.\n */\nexport\ninterface ILauncher {\n  /**\n   * Add a command item to the launcher, and trigger re-render event for parent\n   * widget.\n   *\n   * @param options - The specification options for a launcher item.\n   *\n   * @returns A disposable that will remove the item from Launcher, and trigger\n   * re-render event for parent widget.\n   *\n   */\n  add(options: ILauncherItem): IDisposable;\n}\n\n\n/**\n * The specification for a launcher item.\n */\nexport\ninterface ILauncherItem {\n  /**\n   * The display name for the launcher item.\n   */\n  displayName: string;\n\n  /**\n   * The callback invoked to launch the item.\n   *\n   * The callback is invoked with a current working directory and the\n   * name of the selected launcher item.  When the function returns\n   * the launcher will close.\n   *\n   * #### Notes\n   * The callback must return the widget that was created so the launcher\n   * can replace itself with the created widget.\n   */\n  callback: (cwd: string, name: string) => Widget | Promise<Widget>;\n\n  /**\n   * The icon class for the launcher item.\n   *\n   * #### Notes\n   * This class name will be added to the icon node for the visual\n   * representation of the launcher item.\n   *\n   * Multiple class names can be separated with white space.\n   *\n   * The default value is an empty string.\n   */\n  iconClass?: string;\n\n  /**\n   * The icon label for the launcher item.\n   *\n   * #### Notes\n   * This label will be added as text to the icon node for the visual\n   * representation of the launcher item.\n   *\n   * The default value is an empty string.\n   */\n  iconLabel?: string;\n\n  /**\n   * The identifier for the launcher item.\n   *\n   * The default value is the displayName.\n   */\n  name?: string;\n\n  /**\n   * The category for the launcher item.\n   *\n   * The default value is the an empty string.\n   */\n  category?: string;\n\n  /**\n   * The rank for the launcher item.\n   *\n   * The rank is used when ordering launcher items for display. After grouping\n   * into categories, items are sorted in the following order:\n   *   1. Rank (lower is better)\n   *   3. Display Name (locale order)\n   *\n   * The default rank is `Infinity`.\n   */\n  rank?: number;\n\n  /**\n   * For items that have a kernel associated with them, the URL of the kernel\n   * icon.\n   *\n   * This is not a CSS class, but the URL that points to the icon in the kernel\n   * spec.\n   */\n  kernelIconUrl?: string;\n}\n\n\n/**\n * LauncherModel keeps track of the path to working directory and has a list of\n * LauncherItems, which the Launcher will render.\n */\nexport\nclass LauncherModel extends VDomModel implements ILauncher {\n  /**\n   * Create a new launcher model.\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Add a command item to the launcher, and trigger re-render event for parent\n   * widget.\n   *\n   * @param options - The specification options for a launcher item.\n   *\n   * @returns A disposable that will remove the item from Launcher, and trigger\n   * re-render event for parent widget.\n   *\n   */\n  add(options: ILauncherItem): IDisposable {\n    // Create a copy of the options to circumvent mutations to the original.\n    let item = Private.createItem(options);\n\n    this._items.push(item);\n    this.stateChanged.emit(void 0);\n\n    return new DisposableDelegate(() => {\n      ArrayExt.removeFirstOf(this._items, item);\n      this.stateChanged.emit(void 0);\n    });\n  }\n\n  /**\n   * Return an iterator of launcher items.\n   */\n  items(): IIterator<ILauncherItem> {\n    return new ArrayIterator(this._items);\n  }\n\n  private _items: ILauncherItem[] = [];\n}\n\n\n/**\n * A virtual-DOM-based widget for the Launcher.\n */\nexport\nclass Launcher extends VDomRenderer<LauncherModel> {\n  /**\n   * Construct a new launcher widget.\n   */\n  constructor(options: Launcher.IOptions) {\n    super();\n    this._cwd = options.cwd;\n    this._callback = options.callback;\n    this.addClass(LAUNCHER_CLASS);\n  }\n\n  /**\n   * The cwd of the launcher.\n   */\n  get cwd(): string {\n    return this._cwd;\n  }\n  set cwd(value: string) {\n    this._cwd = value;\n    this.update();\n  }\n\n  /**\n   * Whether there is a pending item being launched.\n   */\n  get pending(): boolean {\n    return this._pending;\n  }\n  set pending(value: boolean) {\n    this._pending = value;\n  }\n\n  /**\n   * Handle `'activate-request'` messages.\n   */\n  protected onActivateRequest(msg: Message): void {\n    this.node.tabIndex = -1;\n    this.node.focus();\n  }\n\n  /**\n   * Render the launcher to virtual DOM nodes.\n   */\n  protected render(): React.ReactElement<any> {\n    // Bail if there is no model.\n    if (!this.model) {\n      return null;\n    }\n\n    // First group-by categories\n    let categories = Object.create(null);\n    each(this.model.items(), (item, index) => {\n      let cat = item.category || 'Other';\n      if (!(cat in categories)) {\n        categories[cat] = [];\n      }\n      categories[cat].push(item);\n    });\n    // Within each category sort by rank\n    for (let cat in categories) {\n      categories[cat] = categories[cat].sort(Private.sortCmp);\n    }\n\n    // Variable to help create sections\n    let sections: React.ReactElement<any>[] = [];\n    let section: React.ReactElement<any>;\n\n    // Assemble the final ordered list of categories, beginning with\n    // KNOWN_CATEGORIES.\n    let orderedCategories: string[] = [];\n    each(KNOWN_CATEGORIES, (cat, index) => {\n      orderedCategories.push(cat);\n    });\n    for (let cat in categories) {\n      if (KNOWN_CATEGORIES.indexOf(cat) === -1) {\n        orderedCategories.push(cat);\n      }\n    }\n\n    // Now create the sections for each category\n    each(orderedCategories, cat => {\n      let iconClass = `${(categories[cat][0] as ILauncherItem).iconClass} ` +\n        'jp-Launcher-sectionIcon jp-Launcher-icon';\n      let kernel = KERNEL_CATEGORIES.indexOf(cat) > -1;\n      if (cat in categories) {\n        section = (\n          <div className='jp-Launcher-section' key={cat}>\n            <div className='jp-Launcher-sectionHeader'>\n              {kernel && <div className={iconClass} />}\n              <h2 className='jp-Launcher-sectionTitle'>{cat}</h2>\n            </div>\n            <div className='jp-Launcher-cardContainer'>\n              {toArray(map(categories[cat], (item: ILauncherItem) => {\n                return Card(kernel, item, this, this._callback);\n              }))}\n            </div>\n          </div>\n        );\n        sections.push(section);\n      }\n    });\n\n    // Wrap the sections in body and content divs.\n    return (\n      <div className='jp-Launcher-body'>\n        <div className='jp-Launcher-content'>\n          <div className='jp-Launcher-cwd'>\n            <h3>{this.cwd}</h3>\n          </div>\n          {sections}\n        </div>\n      </div>\n    );\n  }\n\n  private _callback: (widget: Widget) => void;\n  private _pending = false;\n  private _cwd = '';\n}\n\n\n/**\n * The namespace for `Launcher` class statics.\n */\nexport\nnamespace Launcher {\n  /**\n   * The options used to create a Launcher.\n   */\n  export\n  interface IOptions {\n    /**\n     * The cwd of the launcher.\n     */\n    cwd: string;\n\n    /**\n     * The callback used when an item is launched.\n     */\n    callback: (widget: Widget) => void;\n  }\n}\n\n\n/**\n * A pure tsx component for a launcher card.\n *\n * @param kernel - whether the item takes uses a kernel.\n *\n * @param item - the launcher item to render.\n *\n * @param launcher - the Launcher instance to which this is added.\n *\n * @param launcherCallback - a callback to call after an item has been launched.\n *\n * @returns a vdom `VirtualElement` for the launcher card.\n */\nfunction Card(kernel: boolean, item: ILauncherItem, launcher: Launcher, launcherCallback: (widget: Widget) => void): React.ReactElement<any> {\n  // Build the onclick handler.\n  let onclick = () => {\n    // If an item has already been launched,\n    // don't try to launch another.\n    if (launcher.pending === true) {\n      return;\n    }\n    launcher.pending = true;\n    let callback = item.callback as any;\n    let value = callback(launcher.cwd, item.name);\n    Promise.resolve(value).then(widget => {\n      if (!widget) {\n        throw new Error('Launcher callbacks must resolve with a widget');\n      }\n      launcherCallback(widget);\n      launcher.dispose();\n    }).catch(err => {\n      launcher.pending = false;\n      showErrorMessage('Launcher Error', err);\n    });\n  };\n\n  // Return the VDOM element.\n  return (\n    <div className='jp-LauncherCard'\n      title={item.displayName}\n      onClick={onclick}\n      data-category={item.category || 'Other'}\n      key={Private.keyProperty.get(item)}>\n      <div className='jp-LauncherCard-icon'>\n          {(item.kernelIconUrl && kernel) &&\n            <img src={item.kernelIconUrl} className='jp-Launcher-kernelIcon' />}\n          {(!item.kernelIconUrl && !kernel) &&\n            <div className={`${item.iconClass} jp-Launcher-icon`} />}\n          {(!item.kernelIconUrl && kernel) &&\n            <div className='jp-LauncherCard-noKernelIcon'>\n              {item.displayName[0].toUpperCase()}\n            </div>}\n      </div>\n      <div className='jp-LauncherCard-label' title={item.displayName}>\n        {item.displayName}\n      </div>\n    </div>\n  );\n}\n\n\n/**\n * The namespace for module private data.\n */\nnamespace Private {\n  /**\n   * An incrementing counter for keys.\n   */\n  let id = 0;\n\n  /**\n   * An attached property for an item's key.\n   */\n  export\n  const keyProperty = new AttachedProperty<ILauncherItem, number>({\n    name: 'key',\n    create: () => id++\n  });\n\n  /**\n   * Create an item given item options.\n   */\n  export\n  function createItem(options: ILauncherItem): ILauncherItem {\n    return {\n      ...options,\n      category: options.category || '',\n      name: options.name || options.name,\n      iconClass: options.iconClass || '',\n      iconLabel: options.iconLabel || '',\n      rank: options.rank !== undefined ? options.rank : Infinity\n    };\n  }\n\n  /**\n   * A sort comparison function for a launcher item.\n   */\n  export\n  function sortCmp(a: ILauncherItem, b: ILauncherItem): number {\n    // First, compare by rank.\n    let r1 = a.rank;\n    let r2 = b.rank;\n    if (r1 !== r2 && r1 !== undefined && r2 !== undefined) {\n      return r1 < r2 ? -1 : 1;  // Infinity safe\n    }\n\n    // Finally, compare by display name.\n    return a.displayName.localeCompare(b.displayName);\n  }\n}\n"]}